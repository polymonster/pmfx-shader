on:
  push:
    tags:
    - 'v*'

name: build-release

jobs:
  windows:
    name: build-release
    runs-on: windows-latest
    steps:
      - name: checkout
        uses: actions/checkout@v2
      - name: pyinstaller
        run: "pip install PyInstaller"
      - name: build
        run: py -3 -c "import build_pmfx; build_pmfx.build_executable()"
  macos:
    name: build-release
    runs-on: macos-latest
    steps:
      - name: checkout
        uses: actions/checkout@v2
      - name: pyinstaller
        run: "pip3 install PyInstaller"
      - name: build
        run: python3 -c "import build_pmfx; build_pmfx.build_executable()"